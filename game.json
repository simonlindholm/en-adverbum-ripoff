// TODO
// spara, ladda, inventory
{
	"initialText": "Välkommen till denna anonyma Ad Verbum-rip off.\nFör (det varmt rekommenderade) originalspelet, se http://nickm.com/if/adverbum.html.",
	"magicText": "\n\"HÖR UPP!\" ljuder en ihålig röst. \"Vet med dig att passage tillbaka är svårt för vissa, omöjligt för andra!\nOm du önskar teleportera dig - utan medhavda föremål - ut från detta stränga fängelse, använd det magiska ordet: %s!\"",
	"giveupText": "Rummet löses upp och byts ut mot ett annat. Dina fickor känns plötsligt märkligt tomma.",
	"start": "base",

	"items": {
		"souvenir": {"desc": "Svåridentifierad sak. Skenbart svensk.", "points": 3},
		"sune": {"desc": "Småsur, sniken souvenirståndsägare.", "points": 0},
		"öl": {"desc": "Örjans Önskeöl™. Öländskt.", "points": 0},
		"ökenväxt": {"desc": "Ödesdiger ökenväxt. Överdelen ömklig, örtliknande.", "points": 2},
		"örjan": {"desc": "Öga, öra. Örnnäsa. Ökänd överste.", "points": 0}
	},

	"rooms": {
		"base": {
			"name": "Mittenrummet",
			"desc": "Du befinner dig i ett cirkulärt rum i mitten på byggnaden. Det finns dörrar åt fyra håll: syd, nord, väst och öst.",
			"itemsDesc": "Föremål: ",
			"items": [],
			"commands": [
				{"regex": "", "type": "msg", "text": "Säg något!"},
				{"regex": "sä[gj] hej", "type": "msg", "text": "Du hälsar artigt."},
				{"regex": "avsluta|exit", "type": "exit"},
				{"regex": "(släpp|överge)( (.*))?", "type": "drop", "group": 3, "success": "Släppt.", "failure": "Släpp vad?"},
				{"regex": "(tag?|plocka|överta)( (.*))?", "type": "pick", "group": 3, "success": "Tagen.", "failure": "Plocka up vad?"},
				{"regex": "(undersök|x|kolla|se|ögna)( (.*))?", "type": "examine", "group": 3, "failure": "Undersök vad?"},
				{"regex": "väst|(ströva |stick | stappla |spatsera |strosa |strutta |gå )?väst(erut|vart)", "type": "go", "to": "west"},
				{"regex": "öst|(ströva |stick | stappla |spatsera |strosa |strutta |gå )?öst(erut|vart)", "type": "go", "to": "east"},
				{"regex": "norr|nord|(ströva |stick | stappla |spatsera |strosa |strutta |gå )?nor(rut|dvart)", "type": "go", "to": "north"},
				{"regex": "söder|syd|(ströva |stick | stappla |spatsera |strosa |strutta |gå )?(söderut|sydvart)", "type": "go", "to": "south"},
				{"type": "condition", "globalState": "beamer-charged",
					"then": {"type": "any", "list": [
						{"regex": "ladda beamer", "type": "msg", "text": "Beamern är ömtålig. Överladda den inte!"},
						{"regex": "avfyra beamer", "type": "all", "list": [
							{"type": "msg", "text": "BAM!\n...\nIngenting händer. Du får en känsla av att mojängen bara fanns till för att uppfylla vissa krav, som en teknikalitetssak."},
							{"type": "set-state", "state": "beamer-charged", "global": true, "value": false}
						]}
					]},
					"otherwise": {"type": "any", "list": [
						{"regex": "ladda beamer", "type": "all", "list": [
							{"type": "msg", "text": "Din mystiska beamer-pryl är nu laddad! Avfyra den snart."},
							{"type": "set-state", "state": "beamer-charged", "global": true, "value": true}
						]},
						{"regex": "avfyra beamer", "type": "msg", "text": "Beamern är inte laddad än..."}
					]}
				},
				{"regex": "teleportera", "type": "go", "to": "teleport"},
				{"type": "msg", "text": "Jag förstår inte."}
			]
		},

		"teleport": {
			"name": "Teleporterrum",
			"desc": "Du upptäcker ett mysko rum, utan tillbakaledande dörr. Innan du hinner få känslan av att det bara existerar\nsom en ren teknikalitet, försvinner marken under dina fötter och du teleporteras till\n\n...\n",
			"itemsDesc": "Föremål: ",
			"initial": [
				{"type": "teleport"}
			],
			"items": [],
			"commands": []
		},

		"south": {
			"magic": "START",
			"name": "Sydligt salushus",
			"desc": "Småskaligt salushus. Samlar skoaffär, sportbutik, snabbköp (samtliga semesterstängda), samt Sunes souvenirstånd.\nSjälvlysande skylt säger: Svenska souvenirer, SEK 79.",
			"itemsDesc": "Synligt: ",
			"items": ["souvenir"],
			"initial": [
				{"type": "condition", "globalState": "sune-spoke",
					"otherwise": {"type": "all", "list": [
						{"type": "msg", "text": "\nSune säger: \"Sjysta souvenirer!\""},
						{"type": "set-state", "state": "sune-spoke", "global": true, "value": true}
					]}
				}
			],
			"commands": [
				{"regex": "", "type": "msg", "text": "Säg saker!"},
				{"regex": "(?!s[a-zåäö_-]*( s[a-zåäö_-]*)*$).*", "type": "condition", "globalState": "s-error-alt",
					"otherwise": {"type": "all", "list": [
						{"type": "msg", "text": "Stopp! Sådant språk! Skriven sträng saknar stil."},
						{"type": "set-state", "state": "s-error-alt", "global": true, "value": true}
					]},
					"then": {"type": "all", "list": [
						{"type": "msg", "text": "Säg som snoken: Ssss..."},
						{"type": "set-state", "state": "s-error-alt", "global": true, "value": false}
					]}
				},
				{"type": "condition", "roomHasItem": "souvenir",
					"then": {"type": "any", "list": [
						{"regex": "shoppa souvenir|storhandla", "type": "pick", "thing": "souvenir", "success": "Storartat.", "failure": "<null>"},
						{"regex": "shoppa( .*)?", "type": "msg", "text": "Säg saken som shoppas?"},
						{"regex": "(skaffa|stjäl|snappa|sno)( (.*))?", "type": "msg", "text": "Stöld? Strålande strategi, Sherlock."}
					]},
					"otherwise": {"type": "any", "list": [
						{"regex": "sälj souvenir", "type": "msg", "text": "Sälja souveniren? Sällan."},
						{"regex": "(släng|skrota) souvenir", "type": "msg", "text": "Slänga souveniren? Sällan."}
					]}
				},
				{"regex": "stick|sjappa", "type": "all", "list": [
					{"type": "go", "to": "base"},
					{"type": "win-condition", "name": "out-s", "points": 2}
				]},
				{"regex": "snacka|språka( sune)?", "type": "msg", "text": "Sune svarar surt: Skarevanåt?"},
				{"regex": "(se|skåda|syna) sune", "type": "examine", "thing": "sune"},
				{"regex": "(se|skåda|syna)( (.*))?", "type": "examine", "group": 3, "failure": "Saknar synfält."},
				{"regex": "söder|syd|(ströva |stick | stappla |spatsera |strosa |strutta )?(söderut|sydvart)", "type": "msg", "text": "Solida strukturer stoppas sydligt struttande."},
				{"regex": "ströva|stick|stappla|spatsera|strosa|strutta", "type": "msg", "text": "Specificera slutpunkt."},
				{"regex": "sov", "type": "msg", "text": "Sova? Solen skiner! Sedan så saknas säng."},
				{"type": "condition", "localState": "sitting",
					"then": {"type": "any", "list": [
						{"regex": "sitt", "type": "msg", "text": "... Sitter stadigt. Seriöst."},
						{"regex": "stå", "type": "all", "list": [
							{"type": "set-state", "state": "sitting", "global": false, "value": false},
							{"type": "msg", "text": "Så ... står säkert."}
						]}
					]},
					"otherwise": {"type": "any", "list": [
						{"regex": "sitt", "type": "all", "list": [
							{"type": "set-state", "state": "sitting", "global": false, "value": true},
							{"type": "msg", "text": "Sitta? Säkert. Sådär."}
						]},
						{"regex": "stå", "type": "msg", "text": "Så ... står säkert."}
					]}
				},
				{"regex": "sjung", "type": "msg", "text": "Sjunger sanslösa, \u0073\u0061ponificerande serenader!"},
				{"regex": "sucka", "type": "msg", "text": "Suckar sentimentalt."},
				{"regex": "(säg|snacka)( .*)?", "type": "msg", "text": "Sällskapet svarar svalt."},
				{"regex": "start", "type": "giveup", "to": "base"},
				{"type": "msg", "text": "Saken saknar signifikans. Sorry."}
			]
		},

		"east": {
			"magic": "ÖVERTID",
			"name": "Örjans ölkafé",
			"desc": "Öronbedövande; övergivna ölglas överallt. Öppettider: öppet ödestimmar, ödesdagar + övrigt.",
			"itemsDesc": "Ögonen ögnar: ",
			"items": ["ökenväxt"],
			"commands": [
				{"regex": "", "type": "msg", "text": "Öh?"},
				{"regex": "(?!ö[a-zåäö_-]*( ö[a-zåäö_-]*)*$).*", "type": "msg", "text": "Öh? Överanvänd ö-ljud, ögonaböj!"},
				{"regex": "övertid", "type": "giveup", "to": "base"},
				{"regex": "överge( öst| ölen| (öl)?[ck]af[ée](e?t)?| örjan)?", "type": "all", "list": [
					{"type": "go", "to": "base"},
					{"type": "win-condition", "name": "out-ö", "points": 1}
				]},
				{"regex": "ögna (örjan|översten?)", "type": "examine", "thing": "örjan"},
				{"regex": "ögna öl", "type": "examine", "thing": "öl"},
				{"regex": "ögna( (.*))?", "type": "examine", "group": 2, "failure": "Ögonen övar överflödigt."},
				{"regex": "överta öl", "type": "msg", "text": "Öhmm. Öl \"övertas\" över ölstop."},
				{"regex": "överta( (.*))?", "type": "pick", "group": 2, "success": "Övertagen.", "failure": "Överilat önsketänkande?"},
				{"regex": "överge (.*)", "type": "drop", "group": 1, "success": "Övergiven.", "failure": "Öhmm?"},
				{"regex": "öla( öl)?", "type": "win-condition", "name": "ölat", "points": 3, "success": "Överstökat.", "failure": "Överflödig ölning."},
				{"regex": "öst", "type": "msg", "text": "Överge önskedrömmarna - överstens överraskningsfest östvart."},
				{"regex": "överdriv", "type": "msg", "text": "\"Överdådigt ölkafé; överväldigande Ölandsstil.\""},
				{"regex": "öppna", "type": "msg", "text": "Öppna... öl? Öl öppen."},
				{"regex": "översikt", "type": "examine"},
				{"regex": "överdosera( öl)?", "type": "msg", "text": "Överdosera öl!? Överilat..."},
				{"type": "msg", "text": "Öh?"}
			]
		}
	}
}
